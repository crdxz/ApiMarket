<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Seller Dashboard - Marketplace</title>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="css/dashboardSellerPage.css">
</head>
<body>
<div class="layout-container">
<header>
<div class="header-content">
<div class="logo-section">
<div class="logo-icon">
<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M12 2L2 7V17L12 22L22 17V7L12 2ZM4 8.236L12 12.5L20 8.236V15.764L12 20.028L4 15.764V8.236ZM19.236 6L12 9.764L4.764 6L12 2.236L19.236 6Z"></path>
</svg>
</div>
<div class="logo-text">Marketplace</div>
</div>
<div class="header-actions">
<div class="search-container">
<input id="searchInput" class="search-input" placeholder="Buscar productos..." value=""/>
<div class="search-icon">
<svg fill="currentColor" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
</svg>
</div>
</div>
<div class="notification-wrapper" style="position:relative;">
  <button class="notification-btn" id="notificationBtn" aria-label="Notificaciones">
    <svg class="notification-icon" fill="currentColor" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
      <path d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"></path>
    </svg>
    <span id="notificationDot" class="notification-dot" style="display:none;"></span>
  </button>
  <div id="notificationMenu" class="notification-dropdown" style="display:none;">
    <div class="notification-dropdown-content" id="notificationDropdownContent"></div>
  </div>
</div>
<!-- Menú de usuario -->
<div class="user-menu">
<button id="userMenuBtn" class="user-menu-btn">
<div class="user-avatar" id="userAvatar">U</div>
<span id="userName">Usuario</span>
<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
</svg>
</button>
<!-- Menú desplegable -->
<div id="userMenu" class="user-dropdown">
<div class="user-info">
<div class="user-email" id="userEmail">usuario@example.com</div>
</div>
<button id="mainPageBtn" class="main-page-btn hidden">
<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
</svg>
Ir al Marketplace
</button>
<button id="logoutBtn" class="logout-btn">
<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
</svg>
Cerrar Sesión
</button>
</div>
</div>
</div>
</div>
</header>
<main>
<div class="content-header">
<h1 class="page-title">Dashboard del Vendedor</h1>
<p class="page-subtitle">Gestiona tus productos y ventas</p>
</div>

<div class="dashboard-actions">
<div></div>
<button class="create-button">
<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
<path clip-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" fill-rule="evenodd"></path>
</svg>
Crear Nuevo Producto
</button>
</div>

<div class="tabs-container">
<nav class="tabs-nav">
<a class="tab-link active" href="#" data-tab="products">Todos los Productos</a>
<a class="tab-link" href="#" data-tab="drafts">Borradores</a>
<a class="tab-link" href="#" data-tab="sold">Vendidos</a>
<a class="tab-link" href="#" data-tab="messages">Mensajes</a>
</nav>
</div>

<div class="tab-content">
  <!-- Tab de Productos -->
  <div id="products-tab" class="tab-pane active">
    <div class="table-container">
      <table class="table">
        <thead class="table-header">
          <tr>
            <th scope="col">Producto</th>
            <th scope="col">Precio</th>
            <th scope="col">Estado</th>
            <th scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody class="table-body">
          <!-- Los productos se cargarán dinámicamente aquí -->
          <tr>
            <td colspan="4">
              <div class="loading-container">
                <div class="loading-spinner"></div>
                <p>Cargando productos...</p>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Tab de Borradores -->
  <div id="drafts-tab" class="tab-pane">
    <div class="in-development-message" style="padding:2rem;text-align:center;color:#888;">
      <svg width="48" height="48" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-bottom:1rem;">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"/>
      </svg>
      <p>Funcionalidad en desarrollo. Estará disponible en una futura versión.</p>
    </div>
  </div>

  <!-- Tab de Vendidos -->
  <div id="sold-tab" class="tab-pane">
    <div class="in-development-message" style="padding:2rem;text-align:center;color:#888;">
      <svg width="48" height="48" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin-bottom:1rem;">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"/>
      </svg>
      <p>Funcionalidad en desarrollo. Estará disponible en una futura versión.</p>
    </div>
  </div>

  <!-- Tab de Mensajes -->
  <div id="messages-tab" class="tab-pane">
    <div class="messages-container">
      <div class="messages-header">
        <h3 class="messages-title">Mensajes de Intención de Compra</h3>
        <div class="messages-count">
          <span id="messagesCount">0</span> mensajes nuevos
        </div>
      </div>
      
      <div id="messagesList" class="messages-list">
        <!-- Los mensajes se cargarán dinámicamente aquí -->
        <div class="no-messages">
          <svg class="no-messages-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
          </svg>
          <p>No hay mensajes nuevos</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal de edición de producto -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Editar Producto</h3>
            <button id="closeEditModal" class="modal-close">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        
        <div class="modal-body">
            <form id="editProductForm">
                <input type="hidden" id="editProductId" />
                <div class="form-group">
                    <label for="editTitle" class="form-label">Título</label>
                    <input type="text" id="editTitle" class="form-input" required />
                </div>
                <div class="form-group">
                    <label for="editDescription" class="form-label">Descripción</label>
                    <textarea id="editDescription" class="form-textarea" required></textarea>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="editPrice" class="form-label">Precio</label>
                        <input type="number" id="editPrice" class="form-input" step="0.01" min="0" required />
                    </div>
                    <div class="form-group">
                        <label for="editStock" class="form-label">Stock</label>
                        <input type="number" id="editStock" class="form-input" min="0" required />
                    </div>
                </div>
                <div class="form-group">
                    <label for="editCategory" class="form-label">Categoría</label>
                    <select id="editCategory" class="form-select" required>
                        <option value="">Seleccionar categoría</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editImage" class="form-label">Imagen del Producto</label>
                    <div class="image-upload-container">
                        <input type="file" id="editImage" class="image-input" accept="image/*" />
                        <div class="image-preview-container">
                            <div id="editImagePreview" class="image-preview">
                                <svg class="image-placeholder" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                </svg>
                                <p class="image-placeholder-text">Haz clic para seleccionar una imagen</p>
                            </div>
                        </div>
                        <p class="image-help-text">Formatos permitidos: JPG, PNG, GIF, WEBP. Máximo 5MB.</p>
                    </div>
                </div>
                <div class="form-checkbox">
                    <input type="checkbox" id="editIsActive" />
                    <label for="editIsActive">Producto activo</label>
                </div>
                <div class="form-actions">
                    <button type="button" id="cancelEdit" class="btn-secondary">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-primary">
                        Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal de creación de producto -->
<div id="createModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Crear Nuevo Producto</h3>
            <button id="closeCreateModal" class="modal-close">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        
        <div class="modal-body">
            <form id="createProductForm">
                <div class="form-group">
                    <label for="createTitle" class="form-label">Título *</label>
                    <input type="text" id="createTitle" class="form-input" required placeholder="Ej: iPhone 13 Pro" />
                </div>
                
                <div class="form-group">
                    <label for="createDescription" class="form-label">Descripción *</label>
                    <textarea id="createDescription" class="form-textarea" rows="4" required placeholder="Describe tu producto..."></textarea>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label for="createPrice" class="form-label">Precio ($) *</label>
                        <input type="number" id="createPrice" class="form-input" step="0.01" min="0" required placeholder="0.00" />
                    </div>
                    
                    <div class="form-group">
                        <label for="createStock" class="form-label">Stock *</label>
                        <input type="number" id="createStock" class="form-input" min="0" required placeholder="0" />
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="createCategory" class="form-label">Categoría *</label>
                    <div class="category-select-container">
                        <select id="createCategory" class="form-select" required>
                            <option value="">Seleccionar categoría</option>
                        </select>
                        <button type="button" id="createNewCategoryBtn" class="btn-secondary btn-small">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                            Nueva Categoría
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="createImage" class="form-label">Imagen del Producto</label>
                    <div class="image-upload-container">
                        <input type="file" id="createImage" class="image-input" accept="image/*" />
                        <div class="image-preview-container">
                            <div id="imagePreview" class="image-preview">
                                <svg class="image-placeholder" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                </svg>
                                <p class="image-placeholder-text">Haz clic para seleccionar una imagen</p>
                            </div>
                        </div>
                        <p class="image-help-text">Formatos permitidos: JPG, PNG, GIF, WEBP. Máximo 5MB.</p>
                    </div>
                </div>
                
                <div class="form-checkbox">
                    <input type="checkbox" id="createIsActive" checked />
                    <label for="createIsActive">Producto activo (visible para compradores)</label>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancelCreate" class="btn-secondary">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-primary">
                        Crear Producto
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal de crear nueva categoría -->
<div id="createCategoryModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">Crear Nueva Categoría</h3>
            <button id="closeCreateCategoryModal" class="modal-close">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
        
        <div class="modal-body">
            <form id="createCategoryForm">
                <div class="form-group">
                    <label for="newCategoryName" class="form-label">Nombre de la Categoría *</label>
                    <input type="text" id="newCategoryName" class="form-input" required placeholder="Ej: Electrónicos, Ropa, Hogar..." />
                </div>
                
                <div class="form-group">
                    <label for="newCategoryDescription" class="form-label">Descripción (opcional)</label>
                    <textarea id="newCategoryDescription" class="form-textarea" rows="3" placeholder="Describe brevemente esta categoría..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancelCreateCategory" class="btn-secondary">
                        Cancelar
                    </button>
                    <button type="submit" class="btn-primary">
                        Crear Categoría
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

    <script src="js/dashboardSellerPage.js"></script>
</body>
</html>