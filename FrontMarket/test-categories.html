<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Categorías - ProfileSellerPage</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/profileSellerPage.css">
</head>
<body>
    <div class="main_container">
        <main>
            <div class="products-section">
                <h2>Test de Categorías</h2>
                <div class="products-grid" id="testProductsGrid">
                    <!-- Los productos se cargarán aquí -->
                </div>
            </div>
        </main>
    </div>

    <script>
        // Datos de prueba con categorías
        const testProducts = [
            {
                id: 1,
                title: 'iPhone 13 Pro',
                price: 999.99,
                stock: 5,
                category: { id: 1, name: 'Electrónicos' },
                image_url: 'https://via.placeholder.com/300x200/007AFF/FFFFFF?text=iPhone+13+Pro'
            },
            {
                id: 2,
                title: 'MacBook Air M1',
                price: 1299.99,
                stock: 3,
                category: { id: 2, name: 'Computadoras' },
                image_url: 'https://via.placeholder.com/300x200/34C759/FFFFFF?text=MacBook+Air'
            },
            {
                id: 3,
                title: 'AirPods Pro',
                price: 249.99,
                stock: 10,
                category: { id: 3, name: 'Audio' },
                image_url: 'https://via.placeholder.com/300x200/FF9500/FFFFFF?text=AirPods+Pro'
            },
            {
                id: 4,
                title: 'iPad Air',
                price: 599.99,
                stock: 8,
                category: { id: 4, name: 'Tablets' },
                image_url: 'https://via.placeholder.com/300x200/FF6B6B/FFFFFF?text=iPad+Air'
            },
            {
                id: 5,
                title: 'Apple Watch Series 7',
                price: 399.99,
                stock: 12,
                category: { id: 5, name: 'Smartwatches' },
                image_url: 'https://via.placeholder.com/300x200/4ECDC4/FFFFFF?text=Apple+Watch'
            }
        ];

        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            
            const defaultImage = 'https://via.placeholder.com/300x200/CCCCCC/666666?text=Producto';
            const productImage = product.image_url || defaultImage;
            
            // Obtener nombre de categoría de forma segura
            let categoryName = 'Sin categoría';
            if (product.category) {
                if (typeof product.category === 'string') {
                    categoryName = product.category;
                } else if (product.category.name) {
                    categoryName = product.category.name;
                }
            }
            
            console.log('Test: Creando tarjeta para producto:', {
                id: product.id,
                title: product.title,
                category: product.category,
                categoryName: categoryName
            });
            
            card.innerHTML = `
                <div class="product-image" style="background-image: url('${productImage}')"></div>
                <div class="product-info">
                    <span class="product-category">${categoryName}</span>
                    <h3 class="product-title">${product.title}</h3>
                    <p class="product-price">$${parseFloat(product.price).toFixed(2)}</p>
                    <p class="product-status">Stock: ${product.stock}</p>
                </div>
            `;
            
            return card;
        }

        function renderTestProducts() {
            const productsGrid = document.getElementById('testProductsGrid');
            if (!productsGrid) return;
            
            productsGrid.innerHTML = '';
            
            testProducts.forEach(product => {
                const productCard = createProductCard(product);
                productsGrid.appendChild(productCard);
            });
        }

        // Cargar productos al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Test: Cargando productos de prueba');
            renderTestProducts();
        });
    </script>
</body>
</html> 